
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.5">
    
    
      
        <title>第4回 - システム検証論 (2020)</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.21aed14c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="http://fonts.googleapis.com/earlyaccess/notosansjp.css">
    
      <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:600,800">
    
      <link rel="stylesheet" href="../css/custom.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#4" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="システム検証論 (2020)" class="md-header-nav__button md-logo" aria-label="システム検証論 (2020)">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            システム検証論 (2020)
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              第4回
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="システム検証論 (2020)" class="md-nav__button md-logo" aria-label="システム検証論 (2020)">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    システム検証論 (2020)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../lec01/" class="md-nav__link">
      第1回
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../lec02/" class="md-nav__link">
      第2回
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../lec03/" class="md-nav__link">
      第3回
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        第4回
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      第4回
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    時相論理とは
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ctl" class="md-nav__link">
    計算木論理 CTL*
  </a>
  
    <nav class="md-nav" aria-label="計算木論理 CTL*">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    パス限定子と時相演算子
  </a>
  
    <nav class="md-nav" aria-label="パス限定子と時相演算子">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-41" class="md-nav__link">
    Example 4.1
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ctl_1" class="md-nav__link">
    CTL* の文法と意味論
  </a>
  
    <nav class="md-nav" aria-label="CTL* の文法と意味論">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ctl_2" class="md-nav__link">
    CTL* の文法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ctl_3" class="md-nav__link">
    CTL* の意味論
  </a>
  
    <nav class="md-nav" aria-label="CTL* の意味論">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#definition-42" class="md-nav__link">
    Definition 4.2
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    充足可能性と恒真性
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    否定標準形
  </a>
  
    <nav class="md-nav" aria-label="否定標準形">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-43" class="md-nav__link">
    Example 4.3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    演習問題
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    時相論理とは
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ctl" class="md-nav__link">
    計算木論理 CTL*
  </a>
  
    <nav class="md-nav" aria-label="計算木論理 CTL*">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    パス限定子と時相演算子
  </a>
  
    <nav class="md-nav" aria-label="パス限定子と時相演算子">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-41" class="md-nav__link">
    Example 4.1
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ctl_1" class="md-nav__link">
    CTL* の文法と意味論
  </a>
  
    <nav class="md-nav" aria-label="CTL* の文法と意味論">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ctl_2" class="md-nav__link">
    CTL* の文法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ctl_3" class="md-nav__link">
    CTL* の意味論
  </a>
  
    <nav class="md-nav" aria-label="CTL* の意味論">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#definition-42" class="md-nav__link">
    Definition 4.2
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    充足可能性と恒真性
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    否定標準形
  </a>
  
    <nav class="md-nav" aria-label="否定標準形">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-43" class="md-nav__link">
    Example 4.3
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    演習問題
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="4">第4回 時相論理</h1>
<p>この回では，教科書の第4章 "Temporal Logic" について説明します．</p>
<div class="admonition 概要">
<p class="admonition-title">概要</p>
<ul>
<li>時相論理とは</li>
<li>計算木論理 CTL*</li>
<li>CTL* の文法と意味論</li>
<li>否定標準形</li>
</ul>
</div>
<h2 id="_1">時相論理とは</h2>
<p>時相論理は，クリプキ構造としてモデル化されたシステムの，動的な振る舞いを指定するための形式化手法である．
これから考える時相論理における論理式は，ひとつの計算ステップが終わった<strong>次の時点で</strong>ある性質が満たされることや，
ある指定された状態が<strong>いつか</strong>到達すること，あるいは，異常状態に陥ることが<strong>決してない</strong>ことを表現することができる．</p>
<p>「<strong>次の時点で</strong>〜」，「<strong>いつか</strong>〜」そして「〜が<strong>決してない</strong>」といった性質は，特定の時相演算子 (temporal operator) で表現できる．
また時相論理は，クリプキ構造のパスに時間的性質を関連付けるためのパス限定子 (path quantifier) も備えている．
こうした演算子や限定子はネストすることも，ブール演算子と結合することもできる．</p>
<p>ここでは，非常に強力な論理である CTL* と，その重要な部分論理である<strong>計算木論理</strong> (CTL)，<strong>全称 CTL*</strong> (ACTL*)，そして，<strong>線形時間論理</strong> (LTL) に注目する．
これらの論理で記述された性質は，モデル検査アルゴリズムに利用できる．</p>
<h2 id="ctl">計算木論理 CTL*</h2>
<p>直感的な<strong>計算木論理</strong> (computation tree logic) の意味論は，計算木の概念に基づいている．
クリプキ構造 <script type="math/tex">M</script> の初期状態 <script type="math/tex">s_0</script> が与えられると，以下の図のようにクリプキ構造を <script type="math/tex">s_0</script> を根として展開することで木構造を得ることができる．</p>
<p><center>
<img src="../img/lec04-fig1.png" width="400">
</center></p>
<p>左の図はクリプキ構造の状態遷移グラフで，右の図はそこから得られる（無限の）木構造，すなわち計算木である．</p>
<p>計算木は，初期状態から実行可能な系列の全てを表している．
<script type="math/tex">M</script> の遷移関係については左全関係 (left-total) であるとしているため，全ての状態が次の状態をもっている．
したがって，木の全ての枝は無限に続くことになる，</p>
<h3 id="_2">パス限定子と時相演算子</h3>
<p>時相論理 CTL* は計算木の，ひいてはその根底にあるクリプキ構造の特性を定義する．
CTL* の式は<strong>パス限定子</strong>と<strong>時相演算子</strong>から構成される．
CTL* は二つのパス限定子をもつ．</p>
<ul>
<li>
<p>
<script type="math/tex">\textbf{A}\varphi</script> 「すべての計算パスにおいて」</p>
<p>この演算子は，与えられた状態からの全てのパスが特性 <script type="math/tex">\varphi</script> を満たすことを意味する．</p>
</li>
<li>
<p>
<script type="math/tex">\textbf{E}\varphi</script> 「ある計算パスが存在して」</p>
<p>この演算子は，与えられた状態からの少なくとも一つのパスが特性 <script type="math/tex">\varphi</script> を満たすことを意味する．</p>
</li>
</ul>
<p>パス限定子は特定の状態において，その状態から始まるすべての，あるいはいくつかのパスが特性 <script type="math/tex">\varphi</script> を満たすことを表すために用いられる．
後で示すように，<script type="math/tex">\textbf{A}</script> と <script type="math/tex">\textbf{E}</script> 複数組み合わせることで，計算木の分岐構造を記述することができる．</p>
<p>時相演算子は，与えられた木の無限のパスに沿って満たされる特性を記述する．
5 種の基本演算子について，直感的な意味を以下に示す．
ここで，<script type="math/tex">p</script> と <script type="math/tex">q</script> は状態の特性を記述する式であるとする．</p>
<ul>
<li>
<p>
<script type="math/tex">\textbf{X}p</script> 「次状態で <script type="math/tex">p</script> である」</p>
<p>直感的に，この式は命題 <script type="math/tex">p</script> がパスの二番目の状態で満たされることを要求する．</p>
</li>
<li>
<p>
<script type="math/tex">\textbf{F}p</script> 「いつか <script type="math/tex">p</script> である」あるいは「将来的に <script type="math/tex">p</script> である」</p>
<p>この式は，特性 <script type="math/tex">p</script> がパスのどこかの状態で満たされると主張するために用いられる．</p>
</li>
<li>
<p>
<script type="math/tex">\textbf{G}p</script> 「つねに <script type="math/tex">p</script> である」あるいは「全域的に <script type="math/tex">p</script> である」</p>
<p>この式は，命題 <script type="math/tex">p</script> がパスの全ての状態で満たされることを表すために用いられる．</p>
</li>
<li>
<p>
<script type="math/tex">p\textbf{U}q</script> 「<script type="math/tex">q</script> となるまで <script type="math/tex">p</script> である」</p>
<p>
<script type="math/tex">\textbf{U}</script> 演算子は，二つの特性を組み合わせるため少しだけ複雑である．
この式が満たされるのは，パス上に2つ目の特性 <script type="math/tex">q</script> を満たす状態が存在した上で，かつそこまでの全ての状態において1つ目の特性 <script type="math/tex">p</script> が満たされているときである．</p>
</li>
<li>
<p>
<script type="math/tex">p\textbf{R}q</script> 「<script type="math/tex">p</script> が <script type="math/tex">q</script> を開放する」</p>
<p>これは <script type="math/tex">\textbf{U}</script> 演算子の論理双対 (logical dual) である．
この式は，1つ目の特性 <script type="math/tex">p</script> が満たされる最初の状態を含むそこまでのパス上において，2つ目の特性 <script type="math/tex">q</script> が満たされていることを要求する．
しかしながら，1つ目の特性 <script type="math/tex">p</script> は必ずしも満たされなくてもよい．</p>
</li>
</ul>
<p>以下の図は，無限のパスについて，これらの時相演算子がどのような場合に満たされるかを示している．
●が <script type="math/tex">p</script> が満たされる状態，□が <script type="math/tex">q</script> が満たされる状態である．</p>
<p><center>
<img src="../img/lec04-fig2.png" width="350">
</center></p>
<h4 id="example-41">Example 4.1</h4>
<p>前述の例を用いて，CTL* の意味論を非形式的に説明する．
<script type="math/tex">\pi_1</script> と <script type="math/tex">\pi_2</script> をそれぞれ最も左と右のパスとする．</p>
<p><center>
<img src="../img/lec04-fig3.png" width="250">
</center></p>
<p>
<script type="math/tex">\pi_1</script> では特性 <script type="math/tex">b</script> が全ての状態で満たされるので，<script type="math/tex">\textbf{G}b</script> は真となる．
このことを形式的に <script type="math/tex">\pi_1 \models \textbf{G}b</script> と書くことにする．
一方で，明らかに <script type="math/tex">\pi_2 \nvDash \textbf{G}b</script> である．
したがって，初期状態 <script type="math/tex">s_0</script> から一つの（しかし全てではない）パスが <script type="math/tex">\textbf{G}b</script> を満たすため，<script type="math/tex">s_0 \models \textbf{EG}b</script> であり，<script type="math/tex">s_0 \nvDash \textbf{AG}b</script> である．
同様に，<script type="math/tex">s_0 \models \textbf{EXX}(a \wedge b)</script> であり，<script type="math/tex">s_0 \nvDash \textbf{EXAX}(a \wedge b)</script> である．</p>
<p>これまでの CTL* への非形式的な導入により，パス限定子と時相演算子の重要な違いがわかる．
つまり，パス限定子は状態の性質（例えば，「ある特定のパスがこの状態から始まるか？」）を記述するものであり，時相演算子はパスの性質（例えば，「このパスである特定の状態へと到達できるか？」）を記述するものである．
次の節では，この区別からパス論理式と状態論理式の概念が生まれる．</p>
<h2 id="ctl_1">CTL* の文法と意味論</h2>
<p>これから，CTL * の文法と意味論について形式的に定義する．</p>
<h3 id="ctl_2">CTL* の文法</h3>
<p>命題 CTL* の文法は，命題論理を上述の時相演算子とパス限定子を用いて自然に拡張したものである．
CTL* には2つのタイプの論理式があり，特定の状態に対して真と評価される<strong>状態論理式</strong>と，特定のパスに対して真と評価される<strong>パス論理式</strong>である．</p>
<p>
<script type="math/tex">AP</script> を原子命題の集合とする．
状態論理式の文法は以下のルールで与えらえる．</p>
<ul>
<li><strong>A1</strong>: <script type="math/tex">p \in AP</script> ならば，<script type="math/tex">p</script> は状態論理式である．</li>
<li><strong>A2</strong>: <script type="math/tex">f</script> および <script type="math/tex">g</script> が状態論理式ならば，<script type="math/tex">\neg f</script>, <script type="math/tex">f \vee g</script>, <script type="math/tex">f \wedge g</script> は状態論理式である．</li>
<li><strong>A3</strong>: <script type="math/tex">f</script> がパス論理式ならば，<script type="math/tex">\textbf{E} f</script> および \textbf{A} f$ は状態論理式である．</li>
</ul>
<p>パス論理式の文法を定めるためには 2 つの追加ルールが必要である．</p>
<ul>
<li><strong>A4</strong>: <script type="math/tex">f</script> が状態論理式ならば，<script type="math/tex">f</script> はパス論理式でもある．</li>
<li><strong>A5</strong>: <script type="math/tex">f</script> および <script type="math/tex">g</script> がパス論理式ならば，<script type="math/tex">\neg f</script>, <script type="math/tex">f \vee g</script>, <script type="math/tex">f \wedge g</script>, <script type="math/tex">\textbf{X} f</script>, <script type="math/tex">\textbf{F} f</script>, <script type="math/tex">\textbf{G} f</script>, <script type="math/tex">f \textbf{U} g</script>, そして <script type="math/tex">f \textbf{R} g</script> はパス論理式である．</li>
</ul>
<p>CTL* は，上述のルールに従う状態論理式の集合となる．</p>
<p>したがって，CTL* の論理式は，ブール命題，パス限定子で修飾された時相論理式，そしてそれらのブール結合となる．</p>
<h3 id="ctl_3">CTL* の意味論</h3>
<p>クリプキ構造の定義を思い出そう．</p>
<div class="admonition note">
<p class="admonition-title">クリプキ構造の定義 (<a href="../lec02/">第2回</a>の再掲)</p>
<ul>
<li>クリプキ構造は 5 つ組 <script type="math/tex">M=(S, S_0, R, AP, L)</script> である．</li>
<li>
<script type="math/tex">S</script> は状態の集合である．</li>
<li>
<script type="math/tex">S_0 \subseteq S</script> は初期状態の集合である．</li>
<li>
<script type="math/tex">R \subseteq S \times S</script> は遷移関係であり，左全関係である．すなわち，全ての状態 <script type="math/tex">s \in S</script> に対して <script type="math/tex">(s, s') \in R</script> となる <script type="math/tex">s' \in S</script> が存在する．</li>
<li>
<script type="math/tex">AP</script> は原子命題の集合である．</li>
<li>
<script type="math/tex">L:S \rightarrow 2^{AP}</script> は，各状態を，その状態で真となる原子命題の集合でラベル付けする関数である．</li>
<li>状態 <script type="math/tex">s</script> から始まる <script type="math/tex">M</script> の無限のパスは，<script type="math/tex">s_0 = s</script> およびすべての <script type="math/tex">i \le 0</script> に対して <script type="math/tex">(s_i, s_{i+1}) \in R</script> を満たす状態の列 <script type="math/tex">\pi = s_0,s_1, \ldots</script> である．<script type="math/tex">s_i</script> から始まる <script type="math/tex">\pi</script> のサフィックスを <script type="math/tex">\pi^i</script> と書くことにする．</li>
</ul>
</div>
<p>モデル化を表す関係 <script type="math/tex">\models</script> は式の構造に基づいて帰納的に定義される．
<script type="math/tex">f</script> が状態論理式ならば，<script type="math/tex">M, s \models f</script> はクリプキ構造 <script type="math/tex">M</script> において状態 <script type="math/tex">s</script> で <script type="math/tex">f</script> が満たされることを意味する．
同様に，<script type="math/tex">f</script> がパス論理式ならば，<script type="math/tex">M, \pi \models f</script> クリプキ構造 <script type="math/tex">M</script> においてパス <script type="math/tex">\pi</script> に沿って <script type="math/tex">f</script> が満たされることを意味する．</p>
<p>記号 <script type="math/tex">\equiv</script> を論理的等価を表すために用いる．
すなわち，<script type="math/tex">f</script> および <script type="math/tex">g</script> が状態論理式ならば，<script type="math/tex">f \equiv g</script> が満たされるのは，すべての <script type="math/tex">M</script> と <script type="math/tex">s</script> に対して，<script type="math/tex">M, s \models f</script> であるときかつそのときのみ <script type="math/tex">M, s \models g</script> となる場合である．
同様に，<script type="math/tex">f</script> および <script type="math/tex">g</script> がパス論理式ならば，<script type="math/tex">f \equiv g</script> が満たされるのは，すべての <script type="math/tex">M</script> と <script type="math/tex">\pi</script> に対して，<script type="math/tex">M, \pi \models f</script> であるときかつそのときのみ <script type="math/tex">M, \pi \models g</script> となる場合である．
文脈からクリプキ構造 <script type="math/tex">M</script> が明らかな場合，それを省略する場合がある．</p>
<p>次の定義においては，<script type="math/tex">f_1</script> および <script type="math/tex">f_2</script> を状態論理式，<script type="math/tex">g_1</script> および <script type="math/tex">g_2</script> をパス論理式とする．
さらに，式中のすべての原子命題は <script type="math/tex">AP</script> に含まれているものとする．
これにより，ベースケースのみ定義すれば十分であることが保証される．</p>
<h4 id="definition-42">Definition 4.2</h4>
<p>
<script type="math/tex">f_1</script> および <script type="math/tex">f_2</script> を状態論理式，<script type="math/tex">g_1</script> および <script type="math/tex">g_2</script> をパス論理式とする．
<script type="math/tex">\models</script> の概念は式の構造に基づいて帰納的に定義される．</p>
<ol>
<li>
<script type="math/tex">M, s \models p</script>
<script type="math/tex">\Leftrightarrow</script>
<script type="math/tex">p \in AP</script> に対して <script type="math/tex">p \in L(s)</script>
</li>
<li>
<script type="math/tex">M, s \models \neg f_1</script>
<script type="math/tex">\Leftrightarrow</script>
<script type="math/tex">M, s \nvDash f_1</script>
</li>
<li>
<script type="math/tex">M, s \models f_1 \vee f_2</script>
<script type="math/tex">\Leftrightarrow</script>
<script type="math/tex">M, s \models f_1</script> または <script type="math/tex">M, s \models f_2</script>
</li>
<li>
<script type="math/tex">M, s \models f_1 \wedge f_2</script>
<script type="math/tex">\Leftrightarrow</script>
<script type="math/tex">M, s \models f_1</script> かつ <script type="math/tex">M, s \models f_2</script>
</li>
<li>
<script type="math/tex">M, s \models \textbf{E} g_1</script>
<script type="math/tex">\Leftrightarrow</script>
<script type="math/tex">s</script> から始まる無限パスが存在して，<script type="math/tex">\pi</script> が <script type="math/tex">M, \pi \models g_1</script> を満たす．</li>
<li>
<script type="math/tex">M, s \models \textbf{A} g_1</script>
<script type="math/tex">\Leftrightarrow</script>
<script type="math/tex">s</script> から始まるすべての無限パス <script type="math/tex">\pi</script> が <script type="math/tex">M, \pi \models g_1</script> を満たす．</li>
<li>
<script type="math/tex">M, \pi \models f_1</script>
<script type="math/tex">\Leftrightarrow</script> パス <script type="math/tex">\pi</script> の最初の状態 <script type="math/tex">s</script> が，<script type="math/tex">M, s \models f_1</script> を満たす．</li>
<li>
<script type="math/tex">M, \pi \models \neg g_1</script>
<script type="math/tex">\Leftrightarrow</script>
<script type="math/tex">M, \pi \nvDash g_1</script>
</li>
<li>
<script type="math/tex">M, \pi \models g_1 \vee g_2</script>
<script type="math/tex">\Leftrightarrow</script>
<script type="math/tex">M, \pi \models g_1</script> または <script type="math/tex">M, \pi \models g_2</script>
</li>
<li>
<script type="math/tex">M, \pi \models g_1 \wedge g_2</script>
<script type="math/tex">\Leftrightarrow</script>
<script type="math/tex">M, \pi \models g_1</script> かつ <script type="math/tex">M, \pi \models g_2</script>
</li>
<li>
<script type="math/tex">M, \pi \models \textbf{X} g_1</script>
<script type="math/tex">\Leftrightarrow</script>
<script type="math/tex">M, \pi^1 \models g_1</script>
</li>
<li>
<script type="math/tex">M, \pi \models \textbf{F} g_1</script>
<script type="math/tex">\Leftrightarrow</script>
<script type="math/tex">M, \pi^k \models g_1</script> となる <script type="math/tex">k \ge 0</script> が存在する．</li>
<li>
<script type="math/tex">M, \pi \models \textbf{G} g_1</script>
<script type="math/tex">\Leftrightarrow</script> 全ての <script type="math/tex">i \ge 0</script> に対して <script type="math/tex">\pi^i \models g_1</script> である．</li>
<li>
<script type="math/tex">M, \pi \models g_1 \textbf{U} g_2</script>
<script type="math/tex">\Leftrightarrow</script>
<script type="math/tex">M, \pi^k \models g_2</script> となる <script type="math/tex">k \ge 0</script> が存在し，全ての <script type="math/tex">0 \le j < k</script> に対して <script type="math/tex">\pi^j \models g_1</script> である．</li>
<li>
<script type="math/tex">M, \pi \models g_1 \textbf{R} g_2</script>
<script type="math/tex">\Leftrightarrow</script> 全ての <script type="math/tex">j \ge 0</script> に対して，もし全ての <script type="math/tex">i < j</script> に対して <script type="math/tex">M,\pi^i \nvDash g_1</script> であれば <script type="math/tex">M, \pi^j \models g_2</script> である．</li>
</ol>
<p>最後に，クリプキ構造に対する <script type="math/tex">\models</script> を以下のように定義する．</p>
<ol>
<li>
<script type="math/tex">M \models f_1</script>
<script type="math/tex">\Leftrightarrow</script> 全ての初期状態 <script type="math/tex">s \in S_0</script> に対して <script type="math/tex">M, s \models f_1</script> である．</li>
</ol>
<h3 id="_3">充足可能性と恒真性</h3>
<p>CTL* 論理式 <script type="math/tex">f</script> があるクリプキ構造 <script type="math/tex">M</script> に対して <script type="math/tex">M \models f</script> であるとき，<script type="math/tex">f</script> は<strong>充足可能</strong> (satisfiable) であるという．
式 <script type="math/tex">f</script> が全ての <script type="math/tex">M</script> に対して <script type="math/tex">M \models f</script> であるとき <script type="math/tex">f</script> は<strong>恒真</strong> (valid) であるという．</p>
<p>論理式の充足可能性と恒真性は古典的な問題で，論理学の分野でしばしば議論されてきた．
一方で，モデル検査問題は論理式 <script type="math/tex">f</script> と与えられたクリプキ構造 <script type="math/tex">M</script> に対して定義される．
その目的は，<script type="math/tex">M</script> が <script type="math/tex">f</script> のモデルである，すなわち，<script type="math/tex">M \models f</script> かどうかを判定することである．</p>
<p>モデル検査の概念は任意のクリプキ構造に対して十分に定義されているが，後にモデル検査アルゴリズムについて議論する際には，有限のクリプキ構造（すなわち状態集合 <script type="math/tex">S</script> が有限）にのみ着目していることには注意が必要である．</p>
<p>CTL* の意味論は，次の興味深くかつ重要な性質をもつ．</p>
<ul>
<li>
<script type="math/tex">\vee</script>，<script type="math/tex">\neg</script>，<script type="math/tex">\textbf{X}</script>，<script type="math/tex">\textbf{U}</script>，<script type="math/tex">\textbf{E}</script> の 5 つの演算子があればどのような CTL* 式も表現可能である．</li>
</ul>
<p>
<script type="math/tex; mode=display">\begin{eqnarray*}
f \wedge g & \equiv & \neg(\neg f \vee \neg g) \\
f \textbf{R} g & \equiv & \neg(\neg f \textbf{U} \neg g) \\
\textbf{F} f & \equiv & true \textbf{U} f \\
\textbf{G} f & \equiv & \neg \textbf{F} \neg f \\
\textbf{A} (f) & \equiv & \neg \textbf{E} \neg f
\end{eqnarray*}</script>
</p>
<ul>
<li>Definition 4.2 の 16 番目の節は，式が複数の初期状態をもつ構造に対して評価される場合，やや予期しない影響を及ぼす．
  初期状態 <script type="math/tex">S_0 = \{s_0, s_1\}</script> である以下の例を考える．
  <center>
  <img src="../img/lec04-fig4.png" width="200">
  </center>
  <script type="math/tex">M, s_0, \models \textbf{EX} p</script> であり，<script type="math/tex">M, s_1, \nvDash \textbf{EX} p</script> である．
  したがって，ただ一つの初期状態しか <script type="math/tex">\textbf{EX} p</script> を満たさないので，定義より <script type="math/tex">M, \nvDash \textbf{EX} p</script> である．
  一方で，<script type="math/tex">\neg \textbf{EX} p</script> は <script type="math/tex">s_1</script> では満たされるが <script type="math/tex">s_0</script> では満たされず，したがって <script type="math/tex">M, \nvDash \neg \textbf{EX} p</script> となる．
  結果として，<script type="math/tex">\textbf{EX} p</script> と <script type="math/tex">\neg \textbf{EX} p</script> のいずれもが <script type="math/tex">M</script> では満たされないことになる．
  単一の初期状態をもつ構造においては，このような状況に陥ることはない．</li>
</ul>
<h3 id="_4">否定標準形</h3>
<p><strong>否定標準形</strong> (negation normal form, NNF) は論理式の構文形式の一つで，否定演算子（<script type="math/tex">\neg</script>）の適用が原子命題についてのみ認められる．
後の章で，CTL* における NNF の有用性を示す．</p>
<p>ここでは，あらゆる CTL* 式が，NNF の式と等価であることを示す．
これは，あらゆる CTL* 式に対して，以下の等価関係を繰り返し適用することで，否定を演算子の内部へ移動させられることから明らかである．</p>
<p>
<script type="math/tex; mode=display">\begin{eqnarray*}
\neg \textbf{A} \phi & \equiv & \textbf{E} \neg \phi\\
\neg \textbf{E} \phi & \equiv & \textbf{A} \neg \phi\\
\neg \textbf{G} \phi & \equiv & \textbf{F} \neg \phi\\
\neg \textbf{F} \phi & \equiv & \textbf{G} \neg \phi\\
\neg \textbf{X} \phi & \equiv & \textbf{X} \neg \phi\\
\neg (\phi \textbf{U} \psi) & \equiv & (\phi \textbf{R} \neg \psi)\\
\neg (\phi \textbf{R} \psi) & \equiv & (\phi \textbf{U} \neg \psi)\\
\neg (\phi \wedge \psi) & \equiv & (\neg \phi \vee \neg \psi)\\
\neg (\phi \vee \psi) & \equiv & (\neg \phi \wedge \neg \psi)
\end{eqnarray*}</script>
</p>
<h4 id="example-43">Example 4.3</h4>
<p>論理式 <script type="math/tex">\neg ((A \textbf{U} B) \vee \textbf{F} C)</script> を考える．
この式は，以下の等価関係を用いることで NNF へと変換できる．</p>
<p>
<script type="math/tex; mode=display">\begin{align*}
\neg ((A \textbf{U} B) \vee \textbf{F} C) \equiv (\neg (A \textbf{U} B) \wedge \neg \textbf{F} C) \equiv ((\neg A) \textbf{R} (\neg B)) \wedge (\textbf{G} \neg C)
\end{align*}</script>
</p>
<p>CTL* 式から NNF への変換に要する時間は式のサイズに対して線形である．
これは CTL* の多くの部分論理についても同じである．
しかしながら，CTL* を NNF で表現する際には演算子として <script type="math/tex">\wedge</script>，<script type="math/tex">\vee</script>，<script type="math/tex">\textbf{E}</script>，<script type="math/tex">\textbf{A}</script>，<script type="math/tex">\textbf{X}</script>，<script type="math/tex">\textbf{U}</script>，<script type="math/tex">\textbf{R}</script> を用いる必要があり，前述した <script type="math/tex">\textbf{E}</script>，<script type="math/tex">\textbf{X}</script>，<script type="math/tex">\textbf{U}</script> のみでの表現は不可能である．</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>CTL* を NNF で表現する際に <script type="math/tex">\textbf{G}</script> と <script type="math/tex">\textbf{F}</script> は不要である．これはなぜだろうか？</p>
</div>
<h2 id="_5">演習問題</h2>
<div class="admonition note">
<p class="admonition-title">問題 4.3 (Weak Until 時相演算子)</p>
<p>weak until 時相演算子 <script type="math/tex">\textbf{W}</script> は以下の意味論をもつ．</p>
<p>
<script type="math/tex">\pi \models f_1 \textbf{W} f_2</script>
<script type="math/tex">\Leftrightarrow</script> すべての <script type="math/tex">i \ge 0</script> に対して，もし <script type="math/tex">\pi^i \nvDash f_2</script> ならば，全ての <script type="math/tex">0 \le j < i</script> に対して <script type="math/tex">\pi^j \models f_1</script> である．</p>
<p>
<script type="math/tex">f_1 \textbf{W} f_2</script> は CTL* の表現力に影響を与えないこと，すなわち，他の CTL* 演算子により表現可能であることを示せ．</p>
</div>
<div class="admonition note">
<p class="admonition-title">問題 4.5 (複数の初期状態をもつ構造上の意味論)</p>
<p>
<script type="math/tex">f</script> を充足可能であるが恒真ではない CTL* 式とする．
<script type="math/tex">M \nvDash f</script> でありかつ <script type="math/tex">M \nvDash \neg f</script> である構造が存在することを証明せよ．</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../lec03/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                第3回
              </div>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../js/extra.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS_CHTML"></script>
      
    
  </body>
</html>